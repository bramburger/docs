<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Step 3. Configure your SSH | HUNT Cloud Documentation</title>
    <meta name="description" content="HUNT Cloud Documentation">
    <link rel="shortcut icon" href="https://www.ntnu.no/assets/images/favicon.ico">
  <meta name="theme-color" content="#00509e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.c787bbb8.css" as="style"><link rel="preload" href="/assets/js/app.2ab7f50b.js" as="script"><link rel="preload" href="/assets/js/2.ea2d0de1.js" as="script"><link rel="preload" href="/assets/js/17.a3b0a4d5.js" as="script"><link rel="prefetch" href="/assets/js/10.66be55d4.js"><link rel="prefetch" href="/assets/js/11.88ad7a88.js"><link rel="prefetch" href="/assets/js/12.3a3b7a5e.js"><link rel="prefetch" href="/assets/js/13.ae1bf82c.js"><link rel="prefetch" href="/assets/js/14.0fb9883a.js"><link rel="prefetch" href="/assets/js/15.823ab87c.js"><link rel="prefetch" href="/assets/js/16.7e16c901.js"><link rel="prefetch" href="/assets/js/18.bf0104a1.js"><link rel="prefetch" href="/assets/js/19.ce482acf.js"><link rel="prefetch" href="/assets/js/20.bd764358.js"><link rel="prefetch" href="/assets/js/21.c87ffe06.js"><link rel="prefetch" href="/assets/js/22.23b0186a.js"><link rel="prefetch" href="/assets/js/23.8e495e30.js"><link rel="prefetch" href="/assets/js/24.7dfa88ac.js"><link rel="prefetch" href="/assets/js/25.39c337b3.js"><link rel="prefetch" href="/assets/js/26.6beafbc3.js"><link rel="prefetch" href="/assets/js/27.79416933.js"><link rel="prefetch" href="/assets/js/28.67d6b0dc.js"><link rel="prefetch" href="/assets/js/29.af7f7bb2.js"><link rel="prefetch" href="/assets/js/3.44027806.js"><link rel="prefetch" href="/assets/js/30.19a5cf48.js"><link rel="prefetch" href="/assets/js/31.59224c75.js"><link rel="prefetch" href="/assets/js/32.28ef9a91.js"><link rel="prefetch" href="/assets/js/33.999aa55a.js"><link rel="prefetch" href="/assets/js/34.02af4278.js"><link rel="prefetch" href="/assets/js/35.70513852.js"><link rel="prefetch" href="/assets/js/36.bb25949e.js"><link rel="prefetch" href="/assets/js/37.16a83a11.js"><link rel="prefetch" href="/assets/js/38.577438ce.js"><link rel="prefetch" href="/assets/js/39.aefac10d.js"><link rel="prefetch" href="/assets/js/4.28bee1c6.js"><link rel="prefetch" href="/assets/js/40.118d8f97.js"><link rel="prefetch" href="/assets/js/41.92d8c8e0.js"><link rel="prefetch" href="/assets/js/42.53421892.js"><link rel="prefetch" href="/assets/js/43.ceaf46bf.js"><link rel="prefetch" href="/assets/js/44.5fa4535a.js"><link rel="prefetch" href="/assets/js/45.6bbab74c.js"><link rel="prefetch" href="/assets/js/46.da82b42b.js"><link rel="prefetch" href="/assets/js/5.9bdfcfaf.js"><link rel="prefetch" href="/assets/js/6.41d503a9.js"><link rel="prefetch" href="/assets/js/7.52aabe93.js"><link rel="prefetch" href="/assets/js/8.23842021.js"><link rel="prefetch" href="/assets/js/9.7fb704f1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c787bbb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HUNT Cloud Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/getting-started/" class="nav-link router-link-active">Getting started</a></div> <a href="https://github.com/huntdatacenter/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/getting-started/" class="nav-link router-link-active">Getting started</a></div> <a href="https://github.com/huntdatacenter/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" class="sidebar-link">Welcome</a></li><li><a href="/about/" class="sidebar-link">About</a></li><li><a href="/contribute/" class="sidebar-link">Contribute</a></li><li><a href="/contact/" class="sidebar-link">Contact us</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Working in your lab</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="step-3-configure-your-ssh"><a href="#step-3-configure-your-ssh" class="header-anchor">#</a> Step 3. Configure your SSH</h1> <p>This step configure your SSH connection to and from your local machine and your lab.</p> <div class="custom-block warning"><p class="custom-block-title">Requirement</p> <p>Successful verification of Step 1 and 2.</p></div> <p>In this step you will configure SSH connections for two (2) machines in your lab. One machine that we call <strong><code>entry</code></strong> used for security purposes, and one machine called <strong><code>home</code></strong> were you will do your analysis and store your data.</p> <h2 id="_3-1-identify-required-info"><a href="#_3-1-identify-required-info" class="header-anchor">#</a> 3.1 Identify required info</h2> <p>Open the <strong><code>ssh-config.txt</code></strong> file that you collected in Step 1 in your favourite text editor.</p> <p>This file contains the necessary information for your SSH configuration. Take note of your <strong><code>lab-name</code></strong>, your <strong><code>lab-IP</code></strong> and your <strong><code>username</code></strong>.</p> <p><strong>Example contents of <code>ssh-config.txt</code></strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>Host <span class="token operator">&lt;</span>your-lab-name<span class="token operator">&gt;</span>-entry
    HostName <span class="token operator">&lt;</span>your-lab-IP<span class="token operator">&gt;</span>
    User <span class="token operator">&lt;</span>your-username<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_3-2-configure-you-entry-machine"><a href="#_3-2-configure-you-entry-machine" class="header-anchor">#</a> 3.2 Configure you entry machine</h2> <ol><li>Start your favorite terminal program which supports SSH.</li></ol> <div class="custom-block warning"><p class="custom-block-title">Windows</p> <p>We strongly recommend that you complete this initial setup using the <strong><code>Putty</code></strong> executable that you download from this specific link: <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" target="_blank" rel="noopener noreferrer">putty.exe<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (the putty.exe 64-bit version).</p></div> <ol start="2"><li>Type <strong><code>ssh &lt;your-username&gt;@&lt;your-lab-IP&gt;</code></strong></li> <li>You should then be prompted to enter a password <code>&lt;your-username&gt;@&lt;your-lab-IP&gt;'s password:</code></li> <li>Enter your <code>SSH temporary key</code> sent to you from HUNT over Signal <em>two</em> times.</li> <li>Enter your new <code>passphrase</code> (see below for a how to). Retype for verification. You will be kicked off the entry server by completion.</li></ol> <div class="custom-block tip"><p class="custom-block-title">Designing your own passphrase</p> <p>We prefer that you give a <code>passphrase</code> instead of a password. A passphrase is a series of words that creates a phrase. It should be:</p> <ul><li>long enough to be hard to guess</li> <li>not a famous quotation from the literature (but could be pretty close)</li> <li>hard to guess by intuition (even by someone who knows you well)</li> <li>easy to remember</li></ul> <p>Oh, and, it should be unique to this site only (not to mention at least
<em>12 characters</em> long and include both <em>lower</em> and <em>upper</em> cases).</p> <p>Making a good passphrase is great fun and good security hygiene. Here is one to get you going:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>AnalysingPokemon4Funinthemorning
</code></pre></div></div> <ol start="6"><li>Login again to your entry server, <code>ssh &lt;your-username&gt;@&lt;your-lab-IP&gt;</code>, with your newly generated passphrase.</li></ol> <h2 id="_3-3-configure-your-home-machine"><a href="#_3-3-configure-your-home-machine" class="header-anchor">#</a> 3.3 Configure your home machine</h2> <ol start="7"><li>When on your entry server, connect to your home server by typing <code>ssh home</code>.</li> <li>Similar to step 3, you will be prompted to retype your <code>SSH temporary key</code> sent to you from HUNT over Signal and to repeat your new passphrase two times (it is fine to use the same passphrase as on your entry node). You will be kicked back to your entry server by completion.</li> <li>Log into your home server using <code>ssh home</code> using your new passphrase.</li> <li>With a tiny bit of luck, you should now be inside your project lab which should look something like below. Enjoy!</li></ol> <details class="custom-block details"><summary>Example when logged in to a lab's home server</summary><p></p><div class="language- extra-class"><pre class="language-text"><code>Welcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-98-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

66 packages can be updated.
0 updates are security updates.

Welcome to TEST-LAB.

For the record, if you shouldn't be here - please
leave and report the incident to cloud@hunt.ntnu.no.

Last login: Sun Dec  3 12:29:28 2017 from 10.10.10.10
testuser1@test-lab-home:~$
</code></pre></div><p></p></details><h2 id="_3-4-simplify-your-life"><a href="#_3-4-simplify-your-life" class="header-anchor">#</a> 3.4 Simplify your life</h2> <p>Do not skip this chapter... We hope that you will log into your lab a lot over the coming months and years, so we need to make sure that you simplify that process to the point where you get instant access to your lab.</p> <details class="custom-block details"><summary>Windows</summary><p></p><p>We recommend MobaXterm as a free X server that allow you to connect with both SSH and SFTP. Here is a <a href="/working-in-your-lab/technical-tools/mobaxterm">step wise guide</a> on how to establish a password less login directly to your home-machine.</p> <p></p></details><details class="custom-block details"><summary>Mac and Linux</summary><p></p><h4 id="establish-an-ssh-alias"><a href="#establish-an-ssh-alias" class="header-anchor">#</a> Establish an SSH alias</h4> <ol><li>Open the <code>ssh-config.txt</code> file your received.</li> <li>Add this content to the file named <code>config</code>in the hidden ssh-folder in your home directory (<code>~/.ssh/config</code>) using your favourite file editor. You may need to generate this file if it is your first ssh-configuration.</li></ol> <p>You should now be able to connect to your lab with the SSH-command <code>ssh &lt;your-lab-name&gt;</code>.</p> <h4 id="establish-a-password-less-login"><a href="#establish-a-password-less-login" class="header-anchor">#</a> Establish a password-less login</h4> <p>If you already have a RSA certificate on your local computer that you would like to use, start from step 3</p> <ol><li>Log out from your project lab typing <code>exit</code> (you should now be in your local computer)</li> <li>Generate a new RSA certificate with <code>ssh-keygen</code>. Hint enter three times. When this finish:</li> <li>Enter <code>ssh-copy-id &lt;your-lab-name&gt;-entry</code> to add your certificate to your entry node. Enter the entry-node passphrase you generated in the section above.</li> <li>Enter <code>ssh-add</code>to add the certificate to the ssh-agent. If you don't have a running ssh-agen you may see an error message. In such a case, first enter <code>eval &quot;$(ssh-agent -s)&quot;</code> and next enter <code>ssh-add</code></li> <li>You should now be able to log directly into your home node with the command <code>ssh &lt;your-lab-name&gt;</code>, e.g. 'ssh demolab'.</li></ol> <p>Simple and secure, you should now be able to directly enter your home node with this command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> <span class="token operator">&lt;</span>your-lab-name<span class="token operator">&gt;</span>
</code></pre></div><p></p></details><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Time for coffee!</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/huntdatacenter/docs/edit/master/docs/getting-started/3-configure-ssh.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/26/2020, 12:37:29 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.2ab7f50b.js" defer></script><script src="/assets/js/2.ea2d0de1.js" defer></script><script src="/assets/js/17.a3b0a4d5.js" defer></script>
  </body>
</html>
