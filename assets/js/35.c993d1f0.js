(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{243:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"r"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#r"}},[s._v("#")]),s._v(" R")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.r-project.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("R"),t("OutboundLink")],1),s._v(" is a handy language and environment for statistical computing and graphics.\nWe have already installed the latest version on your home machines.\nFor those of you running unmanaged machines on our security tier 2 may want to upgrade to the latest version using the code below:")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#adjust-r-version"}},[s._v("Adjust R version")]),t("ul",[t("li",[t("a",{attrs:{href:"#upgrade-to-latest-r-version"}},[s._v("Upgrade to latest R version")])]),t("li",[t("a",{attrs:{href:"#downgrade-to-a-specific-r-version-iaas-machines"}},[s._v("Downgrade to a specific R version (IAAS machines)")])])])]),t("li",[t("a",{attrs:{href:"#install-r-studio"}},[s._v("Install R Studio")]),t("ul",[t("li",[t("a",{attrs:{href:"#download-the-latest-software-version"}},[s._v("Download the latest software version")])]),t("li",[t("a",{attrs:{href:"#configure-x2go"}},[s._v("Configure X2Go")])])])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"adjust-r-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adjust-r-version"}},[s._v("#")]),s._v(" Adjust R version")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Install R")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" r-base r-base-dev -y\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Add the updated package repository to your sources list:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://cran.r-project.org/bin/linux/ubuntu/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb https://ftp.acc.umu.se/mirror/CRAN/bin/linux/ubuntu '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('/"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/apt/sources.list\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Add keys for the CRAN repository")]),s._v("\ngpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9\ngpg -a --export E084DAB9 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Update packages")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" upgrade\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" autoremove\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Start R")]),s._v("\nR\n")])])]),t("h3",{attrs:{id:"upgrade-to-latest-r-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-to-latest-r-version"}},[s._v("#")]),s._v(" Upgrade to latest R version")]),s._v(" "),t("p",[s._v("The default version in R is usually a few versions behind the newest software. Follow the code below if you need the newest version.")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- Add the new package repository to your sources list:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deb https://cloud.r-project.org/bin/linux/ubuntu "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-cran35/'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- Update packages")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" upgrade -y\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" autoremove -y\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- Start R")]),s._v("\nR\n")])])]),t("h3",{attrs:{id:"downgrade-to-a-specific-r-version-iaas-machines"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#downgrade-to-a-specific-r-version-iaas-machines"}},[s._v("#")]),s._v(" Downgrade to a specific R version (IAAS machines)")]),s._v(" "),t("p",[s._v("Sometimes you may want to pin your R version to a specific release to please specific packages required for your work.\nBelow are a guide on how to downgrade and pin your R version to a specific release (just in case your figured out the need "),t("em",[s._v("after")]),s._v(" you upgraded R to a new version...).\nThe guide is copied from this great "),t("a",{attrs:{href:"https://askubuntu.com/questions/1056630/r-3-5-0-not-working-on-ubuntu-18-04/1057231#1057231",target:"_blank",rel:"noopener noreferrer"}},[s._v("forum post"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("Please note")]),s._v(" "),t("p",[s._v("This setup below will only work on IAAS- or BLUE-machines as they require administrator privileges.\nContact us if you need to downgrade the R version on your home machine.")])]),s._v(" "),t("h4",{attrs:{id:"save-the-r-packages-that-is-already-installed-in-your-lab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#save-the-r-packages-that-is-already-installed-in-your-lab"}},[s._v("#")]),s._v(" Save the R-packages that is already installed in your lab")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("dpkg -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^ii  r-"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" r_packages.txt\n")])])]),t("h4",{attrs:{id:"pin-the-software-version-to-a-specific-version-in-this-case-r-3-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pin-the-software-version-to-a-specific-version-in-this-case-r-3-5"}},[s._v("#")]),s._v(" Pin the software version to a specific version (in this case R 3.5)")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v("EOF "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/apt/preferences.d/pin-r35\nPackage: r-*\nPin: release "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-cran35\nPin: version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),s._v("*\nPin-Priority: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("800")]),s._v("\n\nPackage: r-cran-nlme\nPin: release "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-cran35\nPin: version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.1")]),s._v(".139-1"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nPin-Priority: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("800")]),s._v("\nEOF\n")])])]),t("h4",{attrs:{id:"purge-and-remove-the-current-r-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#purge-and-remove-the-current-r-version"}},[s._v("#")]),s._v(" Purge and remove the current R version")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" purge r-*\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" autoremove\n")])])]),t("h4",{attrs:{id:"re-install-your-specific-r-version-and-your-r-packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#re-install-your-specific-r-version-and-your-r-packages"}},[s._v("#")]),s._v(" Re-install your specific R version and your r-packages")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" r_packages.txt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),t("h4",{attrs:{id:"check-that-the-new-correct-version-is-running"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#check-that-the-new-correct-version-is-running"}},[s._v("#")]),s._v(" Check that the new correct version is running")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("R\n\nR version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),s._v(".3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-03-11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" -- "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Great Truth"')]),s._v("\n")])])]),t("h4",{attrs:{id:"optional-remove-the-version-pinning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#optional-remove-the-version-pinning"}},[s._v("#")]),s._v(" Optional, remove the version pinning")]),s._v(" "),t("p",[s._v("Remove your pin-file if you want to revert to the newest version.")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/apt/preferences.d/pin-r35\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" dist-upgrade\n")])])]),t("h2",{attrs:{id:"install-r-studio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-r-studio"}},[s._v("#")]),s._v(" Install R Studio")]),s._v(" "),t("p",[s._v("We do provide the opportunity for a graphical interface via R Studio.\nResearchers may install this on unmanaged machines.")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("Make sure R-Studio is not already installed, if the lab was setup before command will return path.")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("which rstudio\n")])])])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("Please note")]),s._v(" "),t("p",[s._v("Installation on home-machines requires us to run some code.")]),s._v(" "),t("p",[s._v("The below guide will therefore not work on home-machines.")])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("Dependencies")]),s._v(" "),t("p",[t("code",[s._v("Without these, it will be impossible to get RStudio to work.")])]),s._v(" "),t("ul",[t("li",[s._v("R (installed as above)")]),s._v(" "),t("li",[s._v("A machine prepared for a "),t("router-link",{attrs:{to:"/working-in-your-lab/technical-tools/x2go/"}},[s._v("graphical interface (X2Go)")])],1),s._v(" "),t("li",[s._v("An IAAS-machine or BLUE-machine with administrator access")])])]),s._v(" "),t("h3",{attrs:{id:"download-the-latest-software-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#download-the-latest-software-version"}},[s._v("#")]),s._v(" Download the latest software version")]),s._v(" "),t("p",[s._v("Search "),t("a",{attrs:{href:"https://www.rstudio.com/products/rstudio/download/#download",target:"_blank",rel:"noopener noreferrer"}},[s._v("www.rstudio.com"),t("OutboundLink")],1),s._v(" for the latest version in accordance with your operating system (e.g. Ubuntu 16.04 xenial).\nThe below text is an example code which you may cut and paste into your shell:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# download the package")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://download1.rstudio.org/rstudio-xenial-1.1.463-amd64.deb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install a handy package installer")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gdebi-core"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install rstudio with dependencies")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"y"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gdebi rstudio-xenial-1.1.463-amd64.deb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# clean up files")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" rstudio-xenial-1.1.463-amd64.deb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"configure-x2go"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-x2go"}},[s._v("#")]),s._v(" Configure X2Go")]),s._v(" "),t("p",[s._v("To automatically start RStudio, revisit your "),t("em",[s._v("Session preferences")]),s._v(" in the "),t("a",{attrs:{href:"x2go"}},[s._v("X2Go setup")]),s._v(" and update your "),t("em",[s._v("Single application command path")]),s._v(" to "),t("code",[s._v("/usr/bin/rstudio")]),s._v("and "),t("em",[s._v("Create a session icon on the desktop...")]),s._v(".")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("NOTE")]),s._v(" "),t("p",[s._v("There is a known bug in x2go "),t("code",[s._v("1.1.456")]),s._v(" that will go away if you comment out (add # before) a line in the x2goagent.options:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/x2go/x2goagent.options\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# X2GO_NXAGENT_DEFAULT_OPTIONS+=" -extension BIG-REQUESTS"')]),s._v("\n")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);