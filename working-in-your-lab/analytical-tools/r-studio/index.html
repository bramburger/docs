<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R and R-Studio | HUNT Cloud Documentation</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="https://www.ntnu.no/assets/images/favicon.ico">
    <meta name="description" content="Installation guide for R and R-Studio">
    <meta property="article:modified_time" content="2020-12-08T11:48:53.000Z">
    <meta property="og:site_name" content="HUNT Cloud Documentation">
    <meta property="og:title" content="Analytical tools: R and R-Studio">
    <meta property="og:description" content="Installation guide for R and R-Studio">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://docs.hdc.ntnu.no/working-in-your-lab/analytical-tools/r-studio/">
    <meta name="twitter:title" content="Analytical tools: R and R-Studio">
    <meta name="twitter:description" content="Installation guide for R and R-Studio">
    <meta name="twitter:url" content="https://docs.hdc.ntnu.no/working-in-your-lab/analytical-tools/r-studio/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:label1" content="Reading time">
    <meta name="twitter:data1" content="🕑 5 min read">
    <meta name="twitter:label2" content="Latest updates">
    <meta name="twitter:data2" content="https://docs.hdc.ntnu.no/news/">
    <meta name="theme-color" content="#00509e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.aea30339.css" as="style"><link rel="preload" href="/assets/js/app.c0d87be4.js" as="script"><link rel="preload" href="/assets/js/2.b29dc874.js" as="script"><link rel="preload" href="/assets/js/47.26f5e391.js" as="script"><link rel="prefetch" href="/assets/js/10.88b4c33c.js"><link rel="prefetch" href="/assets/js/11.18d07c5a.js"><link rel="prefetch" href="/assets/js/12.87d5f749.js"><link rel="prefetch" href="/assets/js/13.fe007ba6.js"><link rel="prefetch" href="/assets/js/14.f82500bc.js"><link rel="prefetch" href="/assets/js/15.96fa5ce0.js"><link rel="prefetch" href="/assets/js/16.bda6d047.js"><link rel="prefetch" href="/assets/js/17.130f0d2c.js"><link rel="prefetch" href="/assets/js/18.6c909add.js"><link rel="prefetch" href="/assets/js/19.5f21e56e.js"><link rel="prefetch" href="/assets/js/20.1f60190a.js"><link rel="prefetch" href="/assets/js/21.77a222c6.js"><link rel="prefetch" href="/assets/js/22.523b0309.js"><link rel="prefetch" href="/assets/js/23.0d25312a.js"><link rel="prefetch" href="/assets/js/24.f1785ca5.js"><link rel="prefetch" href="/assets/js/25.7f9d4558.js"><link rel="prefetch" href="/assets/js/26.1a7cbc52.js"><link rel="prefetch" href="/assets/js/27.f77a91b6.js"><link rel="prefetch" href="/assets/js/28.45b19a54.js"><link rel="prefetch" href="/assets/js/29.a6097da4.js"><link rel="prefetch" href="/assets/js/3.5f994617.js"><link rel="prefetch" href="/assets/js/30.b7ad94de.js"><link rel="prefetch" href="/assets/js/31.c55748d9.js"><link rel="prefetch" href="/assets/js/32.fc43ba7f.js"><link rel="prefetch" href="/assets/js/33.7b650bb8.js"><link rel="prefetch" href="/assets/js/34.a839200d.js"><link rel="prefetch" href="/assets/js/35.16bbe1b7.js"><link rel="prefetch" href="/assets/js/36.8fcec618.js"><link rel="prefetch" href="/assets/js/37.f44fb061.js"><link rel="prefetch" href="/assets/js/38.f9eb727f.js"><link rel="prefetch" href="/assets/js/39.07544d62.js"><link rel="prefetch" href="/assets/js/4.612a92ba.js"><link rel="prefetch" href="/assets/js/40.9a5066ae.js"><link rel="prefetch" href="/assets/js/41.df85e16d.js"><link rel="prefetch" href="/assets/js/42.d186f05b.js"><link rel="prefetch" href="/assets/js/43.d8793f03.js"><link rel="prefetch" href="/assets/js/44.fad74ec5.js"><link rel="prefetch" href="/assets/js/45.62458595.js"><link rel="prefetch" href="/assets/js/46.a15fc55c.js"><link rel="prefetch" href="/assets/js/48.a7035122.js"><link rel="prefetch" href="/assets/js/49.581ff259.js"><link rel="prefetch" href="/assets/js/5.e4d0ea03.js"><link rel="prefetch" href="/assets/js/50.c95f7640.js"><link rel="prefetch" href="/assets/js/51.d7a26451.js"><link rel="prefetch" href="/assets/js/52.bfcea4a7.js"><link rel="prefetch" href="/assets/js/53.82fc02b0.js"><link rel="prefetch" href="/assets/js/54.259ab634.js"><link rel="prefetch" href="/assets/js/55.96534a28.js"><link rel="prefetch" href="/assets/js/56.18641094.js"><link rel="prefetch" href="/assets/js/57.7980669c.js"><link rel="prefetch" href="/assets/js/58.244b0a67.js"><link rel="prefetch" href="/assets/js/59.fde23cb7.js"><link rel="prefetch" href="/assets/js/6.79b08749.js"><link rel="prefetch" href="/assets/js/60.8003b09a.js"><link rel="prefetch" href="/assets/js/61.645009d4.js"><link rel="prefetch" href="/assets/js/62.28356530.js"><link rel="prefetch" href="/assets/js/7.bd12c62b.js"><link rel="prefetch" href="/assets/js/8.8b5a5b3b.js"><link rel="prefetch" href="/assets/js/9.c179d6f0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aea30339.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HUNT Cloud Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting started
</a></div> <a href="https://github.com/huntdatacenter/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting started
</a></div> <a href="https://github.com/huntdatacenter/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/system-status/" class="sidebar-link">System status</a></li><li><a href="/contribute/" class="sidebar-link">Contribute</a></li><li><a href="/contact/" class="sidebar-link">Contact us</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Working in your lab</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/working-in-your-lab/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Technical tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Analytical tools</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/working-in-your-lab/analytical-tools/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/working-in-your-lab/analytical-tools/bluebox/" class="sidebar-link">BlueBox</a></li><li><a href="/working-in-your-lab/analytical-tools/conda/" class="sidebar-link">Conda</a></li><li><a href="/working-in-your-lab/analytical-tools/epacts/" class="sidebar-link">EPACTS</a></li><li><a href="/working-in-your-lab/analytical-tools/fsl/" class="sidebar-link">FSL</a></li><li><a href="/working-in-your-lab/analytical-tools/freesurfer/" class="sidebar-link">Freesurfer</a></li><li><a href="/working-in-your-lab/analytical-tools/jupyter-lab/" class="sidebar-link">Jupyter LAB</a></li><li><a href="/working-in-your-lab/analytical-tools/Matlab/" class="sidebar-link">Matlab</a></li><li><a href="/working-in-your-lab/analytical-tools/plink/" class="sidebar-link">PLINK</a></li><li><a href="/working-in-your-lab/analytical-tools/pycharm/" class="sidebar-link">PyCharm</a></li><li><a href="/working-in-your-lab/analytical-tools/r-studio/" aria-current="page" class="active sidebar-link">R and R-Studio</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#adjust-r-version" class="sidebar-link">Adjust R version</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#upgrade-to-latest-r-version" class="sidebar-link">Upgrade to latest R version</a></li><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#downgrade-to-a-specific-r-version-iaas-machines" class="sidebar-link">Downgrade to a specific R version (IAAS machines)</a></li></ul></li><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#install-r-studio" class="sidebar-link">Install R Studio</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#download-the-latest-software-version" class="sidebar-link">Download the latest software version</a></li><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#configure-x2go" class="sidebar-link">Configure X2Go</a></li></ul></li><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#troubleshooting" class="sidebar-link">Troubleshooting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#i-cannot-create-r-tempdir" class="sidebar-link">I cannot create R_TempDir</a></li><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#installation-of-devtools" class="sidebar-link">Installation of devtools</a></li><li class="sidebar-sub-header"><a href="/working-in-your-lab/analytical-tools/r-studio/#predictabel-matplotlib-viridis-or-plyr-fails-to-import" class="sidebar-link">PredictABEL, matplotlib, viridis, or plyr fails to import</a></li></ul></li></ul></li><li><a href="/working-in-your-lab/analytical-tools/regenie/" class="sidebar-link">Regenie</a></li><li><a href="/working-in-your-lab/analytical-tools/saige/" class="sidebar-link">Saige</a></li><li><a href="/working-in-your-lab/analytical-tools/spyder-ide/" class="sidebar-link">Spyder IDE</a></li><li><a href="/working-in-your-lab/analytical-tools/stata/" class="sidebar-link">Stata</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Transfer tools</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Data transfer</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="r"><a href="#r" class="header-anchor">#</a> R</h1> <p><a href="https://www.r-project.org/" target="_blank" rel="noopener noreferrer">R<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is a handy language and environment for statistical computing and graphics.
We have already installed the latest version on your home machines.
For those of you running unmanaged machines on our security tier 2 may want to upgrade to the latest version using the code below:</p> <p></p><div class="table-of-contents"><ul><li><a href="#adjust-r-version">Adjust R version</a><ul><li><a href="#upgrade-to-latest-r-version">Upgrade to latest R version</a></li><li><a href="#downgrade-to-a-specific-r-version-iaas-machines">Downgrade to a specific R version (IAAS machines)</a></li></ul></li><li><a href="#install-r-studio">Install R Studio</a><ul><li><a href="#download-the-latest-software-version">Download the latest software version</a></li><li><a href="#configure-x2go">Configure X2Go</a></li></ul></li><li><a href="#troubleshooting">Troubleshooting</a><ul><li><a href="#i-cannot-create-r-tempdir">I cannot create R_TempDir</a></li><li><a href="#installation-of-devtools">Installation of devtools</a></li><li><a href="#predictabel-matplotlib-viridis-or-plyr-fails-to-import">PredictABEL, matplotlib, viridis, or plyr fails to import</a></li></ul></li></ul></div><p></p> <h2 id="adjust-r-version"><a href="#adjust-r-version" class="header-anchor">#</a> Adjust R version</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Install R</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> r-base r-base-dev -y

<span class="token comment"># Add the updated package repository to your sources list:</span>
<span class="token comment"># https://cran.r-project.org/bin/linux/ubuntu/</span>
<span class="token function">sudo</span> <span class="token function">su</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb https://ftp.acc.umu.se/mirror/CRAN/bin/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span>/&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/apt/sources.list

<span class="token comment"># Add keys for the CRAN repository</span>
gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9
gpg -a --export E084DAB9 <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token builtin class-name">exit</span>

<span class="token comment"># Update packages</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
<span class="token function">sudo</span> <span class="token function">apt</span> autoremove

<span class="token comment"># Start R</span>
R
</code></pre></div><h3 id="upgrade-to-latest-r-version"><a href="#upgrade-to-latest-r-version" class="header-anchor">#</a> Upgrade to latest R version</h3> <p>The default version in Ubuntu is usually a few versions behind the newest R version available. Follow the code below if you need the newest version.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># -- Add the new package repository to your sources list:</span>
<span class="token function">sudo</span> add-apt-repository <span class="token string">&quot;deb https://cloud.r-project.org/bin/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span>-cran35/&quot;</span>

<span class="token comment"># Add keys for the r-project repository</span>
<span class="token function">sudo</span> apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9

<span class="token comment"># -- Update packages</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade -y
<span class="token function">sudo</span> <span class="token function">apt</span> autoremove -y

<span class="token comment"># -- Start R</span>
R
</code></pre></div><h3 id="downgrade-to-a-specific-r-version-iaas-machines"><a href="#downgrade-to-a-specific-r-version-iaas-machines" class="header-anchor">#</a> Downgrade to a specific R version (IAAS machines)</h3> <p>Sometimes you may want to pin your R version to a specific release to please specific packages required for your work.
Below are a guide on how to downgrade and pin your R version to a specific release (just in case your figured out the need <em>after</em> you upgraded R to a new version...).
The guide is copied from this great <a href="https://askubuntu.com/questions/1056630/r-3-5-0-not-working-on-ubuntu-18-04/1057231#1057231" target="_blank" rel="noopener noreferrer">forum post<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="custom-block warning"><p class="custom-block-title">Please note</p> <p>This setup below will only work on IAAS- or BLUE-machines as they require administrator privileges.
Contact us if you need to downgrade the R version on your home machine.</p></div> <h4 id="save-the-r-packages-that-is-already-installed-in-your-lab"><a href="#save-the-r-packages-that-is-already-installed-in-your-lab" class="header-anchor">#</a> Save the R-packages that is already installed in your lab</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>dpkg -l <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;^ii  r-&quot;</span> <span class="token operator">&gt;</span> r_packages.txt
</code></pre></div><h4 id="pin-the-software-version-to-a-specific-version-in-this-case-r-3-5"><a href="#pin-the-software-version-to-a-specific-version-in-this-case-r-3-5" class="header-anchor">#</a> Pin the software version to a specific version (in this case R 3.5)</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span>EOF <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/preferences.d/pin-r35
Package: r-*
Pin: release <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span>-cran35
Pin: version <span class="token number">3.5</span>*
Pin-Priority: <span class="token number">800</span>

Package: r-cran-nlme
Pin: release <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span>-cran35
Pin: version <span class="token number">3.1</span>.139-1<span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span><span class="token number">0</span>
Pin-Priority: <span class="token number">800</span>
EOF
</code></pre></div><h4 id="purge-and-remove-the-current-r-version"><a href="#purge-and-remove-the-current-r-version" class="header-anchor">#</a> Purge and remove the current R version</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> purge r-*
<span class="token function">sudo</span> <span class="token function">apt</span> autoremove
</code></pre></div><h4 id="re-install-your-specific-r-version-and-your-r-packages"><a href="#re-install-your-specific-r-version-and-your-r-packages" class="header-anchor">#</a> Re-install your specific R version and your r-packages</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> r_packages.txt <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$2</span>}'</span><span class="token variable">)</span></span>
</code></pre></div><h4 id="check-that-the-new-correct-version-is-running"><a href="#check-that-the-new-correct-version-is-running" class="header-anchor">#</a> Check that the new correct version is running</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>R

R version <span class="token number">3.5</span>.3 <span class="token punctuation">(</span><span class="token number">2019</span>-03-11<span class="token punctuation">)</span> -- <span class="token string">&quot;Great Truth&quot;</span>
</code></pre></div><h4 id="optional-remove-the-version-pinning"><a href="#optional-remove-the-version-pinning" class="header-anchor">#</a> Optional, remove the version pinning</h4> <p>Remove your pin-file if you want to revert to the newest version.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rm</span> /etc/apt/preferences.d/pin-r35
<span class="token function">sudo</span> <span class="token function">apt</span> dist-upgrade
</code></pre></div><h2 id="install-r-studio"><a href="#install-r-studio" class="header-anchor">#</a> Install R Studio</h2> <p>We do provide the opportunity for a graphical interface via R Studio.
Researchers may install this on unmanaged machines.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Make sure R-Studio is not already installed, if the lab was setup before command will return path.</p> <div class="language- extra-class"><pre class="language-text"><code>which rstudio
</code></pre></div></div> <div class="custom-block warning"><p class="custom-block-title">Please note</p> <p>Installation on home-machines requires us to run some code.</p> <p>The below guide will therefore not work on home-machines.</p></div> <div class="custom-block warning"><p class="custom-block-title">Dependencies</p> <p><code>Without these, it will be impossible to get RStudio to work.</code></p> <ul><li>R (installed as above)</li> <li>A machine prepared for a <a href="/working-in-your-lab/technical-tools/x2go/">graphical interface (X2Go)</a></li> <li>An IAAS-machine or BLUE-machine with administrator access</li></ul></div> <h3 id="download-the-latest-software-version"><a href="#download-the-latest-software-version" class="header-anchor">#</a> Download the latest software version</h3> <p>Search <a href="https://www.rstudio.com/products/rstudio/download/#download" target="_blank" rel="noopener noreferrer">www.rstudio.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the latest version in accordance with your operating system (e.g. Ubuntu 16.04 xenial).
The below text is an example code which you may cut and paste into your shell:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># download the package</span>
<span class="token function">wget</span> https://download1.rstudio.org/rstudio-xenial-1.1.463-amd64.deb -O /tmp/rstudio.deb

<span class="token comment"># install essential dependencies</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y libnss3 libasound2

<span class="token comment"># install rstudio</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> /tmp/rstudio.deb

<span class="token comment"># clean up files</span>
<span class="token function">rm</span> /tmp/rstudio.deb
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Latest version</p> <p>If you plan to install latest version (&gt;=1.2.0) remember to use <code>--disable-gpu</code> parameter when running R-Studio
or setup environment variable as mentioned in <a href="https://support.rstudio.com/hc/en-us/articles/360017886674-Troubleshooting-RStudio-Rendering-Errors" target="_blank" rel="noopener noreferrer">Troubleshooting RStudio Rendering Errors<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h3 id="configure-x2go"><a href="#configure-x2go" class="header-anchor">#</a> Configure X2Go</h3> <p>To automatically start RStudio, revisit your <em>Session preferences</em> in the <a href="/working-in-your-lab/technical-tools/x2go/">X2Go setup</a> and update your <em>Single application command path</em> to <code>/usr/bin/rstudio</code>and <em>Create a session icon on the desktop...</em>.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>There is a known bug in x2go <code>1.1.456</code> that will go away if you comment out (add # before) a line in the x2goagent.options:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/x2go/x2goagent.options
<span class="token comment"># X2GO_NXAGENT_DEFAULT_OPTIONS+=&quot; -extension BIG-REQUESTS&quot;</span>
</code></pre></div></div> <h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <h3 id="i-cannot-create-r-tempdir"><a href="#i-cannot-create-r-tempdir" class="header-anchor">#</a> I cannot create R_TempDir</h3> <p>If your system disk is full, R will not be able to store temporary files used for computation. You may see the error message <strong><code>Fatal error: cannot create 'R_TempDir'</code></strong>. Click here to verify if the disk disk is full, and this guide to change your temp folder to a larger volume.</p> <h3 id="installation-of-devtools"><a href="#installation-of-devtools" class="header-anchor">#</a> Installation of devtools</h3> <p>You may need to install some more dependencies to get <code>install.packages(&quot;devtools&quot;)</code> going:</p> <div class="language- extra-class"><pre class="language-text"><code>sudo apt update
sudo apt install libcurl4-openssl-dev libssh2-1-dev libssl-dev libxml2-dev
</code></pre></div><h3 id="predictabel-matplotlib-viridis-or-plyr-fails-to-import"><a href="#predictabel-matplotlib-viridis-or-plyr-fails-to-import" class="header-anchor">#</a> PredictABEL, matplotlib, viridis, or plyr fails to import</h3> <p>If running <code>library(PredictABEL)</code> in rstudio server fails with:</p> <div class="language- extra-class"><pre class="language-text"><code>Error: package or namespace load failed for 'PredictABEL':
 .onLoad failed in loadNamespace() for 'tcltk', details:
  call: fun(libname, pkgname)
  error: (converted from warning) couldn't connect to display &quot;:0&quot;
</code></pre></div><p>You need to install these packages related to tcl and tk:</p> <div class="language- extra-class"><pre class="language-text"><code>sudo apt update
sudo apt install tcl tcl8.6 tk tk-table tk8.6
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/huntdatacenter/docs/edit/master/docs/working-in-your-lab/analytical-tools/r-studio.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/8/2020, 11:48:53 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/working-in-your-lab/analytical-tools/pycharm/" class="prev">
        PyCharm
      </a></span> <span class="next"><a href="/working-in-your-lab/analytical-tools/regenie/">
        Regenie
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c0d87be4.js" defer></script><script src="/assets/js/2.b29dc874.js" defer></script><script src="/assets/js/47.26f5e391.js" defer></script>
  </body>
</html>
